---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
import {
  buildWebflowSidebar,
  getAllArticles,
  getAllTags,
} from '../lib/webflow';

export const prerender = true;

const articles = await getAllArticles();
const tags = await getAllTags();
const tagMap = new Map(tags.map(tag => [tag.id, tag]));
const sidebar = buildWebflowSidebar(articles, tagMap);
---

<StarlightPage
  frontmatter={{
    title: 'SpryHealth Help Centre',
    description: 'Your one-stop hub for guides, videos, and step-by-step workflows.',
  }}
  sidebar={sidebar}
>
  <section style="max-width: 800px; margin: 0 auto; padding: 2rem 0;">
    <h1 style="font-size: 2.5rem; margin-bottom: 1.5rem; line-height: 1.2;">
      Hello, welcome to your one-stop hub for guides, videos, and step-by-step workflows.
    </h1>

    <p style="font-size: 1.25rem; color: var(--sl-color-gray-2); margin-bottom: 2rem; line-height: 1.6;">
      Here, you'll find everything your team needs to get the most out of SPRY, organized by role and daily tasks.
    </p>

    <p style="font-size: 1.125rem; color: var(--sl-color-gray-3); line-height: 1.6;">
      Use the search bar above to jump right into answers, or browse the categories on the left.
    </p>
  </section>
</StarlightPage>
